<?phpif (!isset($_SERVER["REQUEST_URI"])) die("Keine REQUEST-URI vom Apache erhalten!");if (!isset($_SERVER["SCRIPT_NAME"])) die("Keine SCRIPT_NAME vom Apache erhalten!");$_SERVER["REQUEST_URI2"] = substr($_SERVER["REQUEST_URI"],strlen($_SERVER["SCRIPT_NAME"])-10);$p = strpos($_SERVER["REQUEST_URI2"],"?");if (!$p) $_SERVER["REQUEST_URIpure"] = $_SERVER["REQUEST_URI2"]; else $_SERVER["REQUEST_URIpure"] = substr($_SERVER["REQUEST_URI2"],0, $p);if (preg_match("@^\/([a-z]{2})\/@", $_SERVER["REQUEST_URIpure"], $treffer)) {	$_SERVER["REQUEST_URIpure"] = substr($_SERVER["REQUEST_URIpure"],3);	$_ENV["language"] = $treffer[1];}switch ($_SERVER["REQUEST_URIpure"]) {	case "/":	case "/index.php":	case "/index.html":	case "/websites.html":		PageEngine::html("page_index"); exit(1);	case "/login.html":		PageEngine::runController("login");		PageEngine::html("page_login"); exit(1);	case "/logout.html":		PageEngine::runController("logout");	case "/deckbuilder":	case "/deckbuilder.html":		PageEngine::html("page_deckbuilder"); exit(1);	case "/notifications.html":		PageEngine::runController("notifications");	case "/help_welcome.html":		PageEngine::html("page_help_welcome"); exit(1);	default:}/*** jetzt kommen die langsamen pregs ***//*if (preg_match("@^/api(/(?P<version>[0-9\.]+))?/(?P<class>[a-z]+)(\/|\.)(?P<method>[a-z]+)(\.(?P<format>json|xml|plain|raw|txt|php|jsonac|html|json-in-script|successcode|jqac))?$@", $_SERVER["REQUEST_URIpure"], $treffer)) {	if ($treffer["version"]."" == "") $treffer["version"] = "0.1";	if (isset($treffer["format"])) $_ENV["API"]["format"] = $treffer["format"];	elseif (!isset($_ENV["API"]["format"]) AND isset($_REQUEST["format"])) $_ENV["API"]["format"] = $_REQUEST["format"];	$_ENV["API"]["namespace"] = $treffer["class"];	$_ENV["API"]["method"] = $treffer["method"];	require($_ENV["basepath"]."/app/api/".$treffer["version"]."/main.php");	exit(1);}*/Observer::Raise("Error_404",array("path" => $_SERVER["REQUEST_URIpure"]));PageEngine::html("page_404");exit(1);